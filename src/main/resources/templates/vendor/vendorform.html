<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Vendor Form</title>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/fromformat.css" rel="stylesheet">
</head>
<script type="text/javascript">

    function printLink() {
        //  var contextPath = getContextPath();

        const link = document.getElementById('ItemPrintLink');
        link.href = `/vendors/vendorMasterReport`;
        console.log("Item Print button is working");
    }
</script>

<body>
<div class="container">
    <div class="from_format">
        <div class="from_title text-center mb-2">
            <label>Vendor Master Form</label>
        </div>

        <form id="vendorform" method="post" th:action="@{/vendors/save}" th:object="${VendorDetails}">


            <div class="button_row mb-2">
                <button class="from_link" form="vendorform" type="submit">Save</button>
                <a class="from_link" th:href="@{/vendors/list}">List</a>
                <a class="from_link" th:href="@{/vendors/new}">New</a>

            </div>

            <!--        <input th:field="*{vendorId}" th:if="${VendorDetails.vendorId != null}" type="hidden"/>-->


            <div class="row align-items-center text-end">
                <div class="col-2">
                    <label class="form-label" for="VendorCode">Vendor Code:</label>
                </div>
                <div class="col-2">
                    <input class="form-control" id="vendorCode" readonly
                           required th:field="*{vendorCode}" type="text">
                </div>
                <script>
                    var companyCode = '[[${companyCode}]]';
                    var formattedCode = '0000' + companyCode;
                    console.log(formattedCode); // To verify the value
                    document.getElementById("vendorCode").value = formattedCode;
                </script>
                <div class="col-2">
                    <label class="form-label" for="vendorPlantCode">Plant Code:</label>
                </div>
                <div class="col-2">
                    <input class="form-control" id="vendorPlantCode" th:field="*{vendorPlantCode}" type="text">
                </div>
                <div class="col-2">
                    <label class="form-label" for="companyCode">Company Code:</label>
                </div>
                <div class="col-2">
                    <input class="form-control" id="companyCode" readonly required
                           th:field="*{companyCode}" type="text">
                </div>
            </div>

            <script>
                var companyCode = /*[[${companyCode}]]*/
                    document.getElementById("companyCode").value = companyCode;
            </script>

            <div class="row align-items-center text-end">
                <div class="col-2">
                    <label class="form-label" for="vendorName">Vendor Name:</label>
                </div>
                <div class="col-6">
                    <input class="form-control" id="vendorName" required th:field="*{vendorName}" type="text">
                </div>
                <div class="col-2">
                    <label class="form-label" for="invoiceCopies">Invoice Copies:</label>
                </div>
                <div class="col-2">
                    <input class="form-control" id="invoiceCopies" required th:field="*{invoiceCopies}"
                           type="text">
                </div>
            </div>


            <div class="row align-items-center text-end">
                <div class="col-2">
                    <label class="form-label" for="vendorAddress">Address:</label>
                </div>
                <div class="col-6">
                    <input class="form-control" id="vendorAddress" required th:field="*{vendorAddress}"
                           type="text">
                </div>
            </div>

            <div class="row align-items-center text-end">
                <div class="col-2">
                    <label class="form-label" for="vendorGST">GST Number:</label>
                </div>
                <div class="col-2">
                    <input class="form-control" id="vendorGST"
                           pattern="[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}" required
                           th:field="*{vendorGST}" type="text">
                </div>
                <div class="col-2">
                    <label class="form-label" for="vendorStateCode">State Code:</label>
                </div>
                <div class="col-2">
                    <input class="form-control" id="vendorStateCode" required th:field="*{vendorStateCode}"
                           type="text">
                </div>
            </div>

            <div class="row align-items-center text-end">
                <div class="col-2">
                    <label class="form-label" for="vendorPAN">PAN Number:</label>
                </div>
                <div class="col-2">
                    <input class="form-control" id="vendorPAN" pattern="[A-Z]{5}[0-9]{4}[A-Z]{1}" required
                           th:field="*{vendorPAN}" type="text">
                </div>
                <div class="col-2">
                    <label class="form-label" for="PinCode">Pin Code:</label>
                </div>
                <div class="col-2">
                    <input class="form-control" id="PinCode" th:field="*{pinCode}" type="text">
                </div>
            </div>

        </form>

        <div class="text-danger" role="alert" th:if="${error}">
            <p class="mb-0" th:text="${error}">Error message here</p>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>